{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst encoding_1 = require(\"@iov/encoding\");\n\nconst {\n  toUtf8\n} = encoding_1.Encoding;\n\nfunction sortJson(json) {\n  if (typeof json !== \"object\" || json === null) {\n    return json;\n  }\n\n  if (Array.isArray(json)) {\n    return json.map(sortJson);\n  }\n\n  const sortedKeys = Object.keys(json).sort();\n  const result = sortedKeys.reduce((accumulator, key) => Object.assign(Object.assign({}, accumulator), {\n    [key]: sortJson(json[key])\n  }), {});\n  return result;\n}\n\nfunction marshalTx(tx) {\n  const json = JSON.stringify(tx);\n  return encoding_1.Encoding.toUtf8(json);\n}\n\nexports.marshalTx = marshalTx;\n\nfunction makeSignBytes(msgs, fee, chainId, memo, accountNumber, sequence) {\n  const signJson = {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    account_number: accountNumber.toString(),\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    chain_id: chainId,\n    fee: fee,\n    memo: memo,\n    msgs: msgs,\n    sequence: sequence.toString()\n  };\n  const signMsg = sortJson(signJson);\n  return toUtf8(JSON.stringify(signMsg));\n}\n\nexports.makeSignBytes = makeSignBytes;","map":{"version":3,"sources":["../src/encoding.ts"],"names":[],"mappings":";;;;;;AAAA,MAAA,UAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAIA,MAAM;AAAE,EAAA;AAAF,IAAa,UAAA,CAAA,QAAnB;;AAEA,SAAS,QAAT,CAAkB,IAAlB,EAA2B;AACzB,MAAI,OAAO,IAAP,KAAgB,QAAhB,IAA4B,IAAI,KAAK,IAAzC,EAA+C;AAC7C,WAAO,IAAP;AACD;;AACD,MAAI,KAAK,CAAC,OAAN,CAAc,IAAd,CAAJ,EAAyB;AACvB,WAAO,IAAI,CAAC,GAAL,CAAS,QAAT,CAAP;AACD;;AACD,QAAM,UAAU,GAAG,MAAM,CAAC,IAAP,CAAY,IAAZ,EAAkB,IAAlB,EAAnB;AACA,QAAM,MAAM,GAAG,UAAU,CAAC,MAAX,CACb,CAAC,WAAD,EAAc,GAAd,KAAsB,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EACjB,WADiB,CAAA,EACN;AACd,KAAC,GAAD,GAAO,QAAQ,CAAC,IAAI,CAAC,GAAD,CAAL;AADD,GADM,CADT,EAKb,EALa,CAAf;AAOA,SAAO,MAAP;AACD;;AAED,SAAgB,SAAhB,CAA0B,EAA1B,EAAmC;AACjC,QAAM,IAAI,GAAG,IAAI,CAAC,SAAL,CAAe,EAAf,CAAb;AACA,SAAO,UAAA,CAAA,QAAA,CAAS,MAAT,CAAgB,IAAhB,CAAP;AACD;;AAHD,OAAA,CAAA,SAAA,GAAA,SAAA;;AAcA,SAAgB,aAAhB,CACE,IADF,EAEE,GAFF,EAGE,OAHF,EAIE,IAJF,EAKE,aALF,EAME,QANF,EAMkB;AAEhB,QAAM,QAAQ,GAAa;AACzB;AACA,IAAA,cAAc,EAAE,aAAa,CAAC,QAAd,EAFS;AAGzB;AACA,IAAA,QAAQ,EAAE,OAJe;AAKzB,IAAA,GAAG,EAAE,GALoB;AAMzB,IAAA,IAAI,EAAE,IANmB;AAOzB,IAAA,IAAI,EAAE,IAPmB;AAQzB,IAAA,QAAQ,EAAE,QAAQ,CAAC,QAAT;AARe,GAA3B;AAUA,QAAM,OAAO,GAAG,QAAQ,CAAC,QAAD,CAAxB;AACA,SAAO,MAAM,CAAC,IAAI,CAAC,SAAL,CAAe,OAAf,CAAD,CAAb;AACD;;AApBD,OAAA,CAAA,aAAA,GAAA,aAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst encoding_1 = require(\"@iov/encoding\");\nconst { toUtf8 } = encoding_1.Encoding;\nfunction sortJson(json) {\n    if (typeof json !== \"object\" || json === null) {\n        return json;\n    }\n    if (Array.isArray(json)) {\n        return json.map(sortJson);\n    }\n    const sortedKeys = Object.keys(json).sort();\n    const result = sortedKeys.reduce((accumulator, key) => (Object.assign(Object.assign({}, accumulator), { [key]: sortJson(json[key]) })), {});\n    return result;\n}\nfunction marshalTx(tx) {\n    const json = JSON.stringify(tx);\n    return encoding_1.Encoding.toUtf8(json);\n}\nexports.marshalTx = marshalTx;\nfunction makeSignBytes(msgs, fee, chainId, memo, accountNumber, sequence) {\n    const signJson = {\n        // eslint-disable-next-line @typescript-eslint/camelcase\n        account_number: accountNumber.toString(),\n        // eslint-disable-next-line @typescript-eslint/camelcase\n        chain_id: chainId,\n        fee: fee,\n        memo: memo,\n        msgs: msgs,\n        sequence: sequence.toString(),\n    };\n    const signMsg = sortJson(signJson);\n    return toUtf8(JSON.stringify(signMsg));\n}\nexports.makeSignBytes = makeSignBytes;\n//# sourceMappingURL=encoding.js.map"]},"metadata":{},"sourceType":"script"}